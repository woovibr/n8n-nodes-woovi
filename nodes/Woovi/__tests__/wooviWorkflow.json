{
  "name": "My workflow",
  "nodes": [
    {
      "parameters": {},
      "id": "64876e00-9080-4f4d-817a-0d5c7e3350e0",
      "name": "When clicking \"Execute Workflow\"",
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [500, 360]
    },
    {
      "parameters": {
        "resource": "charge",
        "operation": "create",
        "chargeValue": 1000,
        "correlationID": "12345"
      },
      "id": "44ebe8c5-2062-40b5-833c-381d04ee9e99",
      "name": "Woovi",
      "type": "n8n-nodes-woovi.woovi",
      "typeVersion": 1,
      "position": [700, 360],
      "credentials": {
        "wooviApi": {
          "id": "1",
          "name": "Woovi account"
        }
      }
    },
    {
      "parameters": {
        "resource": "customer",
        "operation": "createCustomer",
        "name": "John Doe",
        "taxID": "12345678900",
        "email": "john@example.com",
        "phone": "+5511999999999",
        "correlationID": "customer-123",
        "address": {
          "zipcode": "01234-567",
          "street": "Rua das Flores",
          "number": "123",
          "neighborhood": "Centro",
          "city": "São Paulo",
          "state": "SP",
          "country": "BR",
          "complement": "Apto 101"
        }
      },
      "id": "b4f7f4a2-6b8f-4d6c-b4c3-5b8a9ff91234",
      "name": "Create Customer",
      "type": "n8n-nodes-woovi.woovi",
      "typeVersion": 1,
      "position": [900, 360],
      "credentials": {
        "wooviApi": {
          "id": "1",
          "name": "Woovi account"
        }
      }
    },
    {
      "parameters": {
        "resource": "refund",
        "operation": "createRefund",
        "value": "1000",
        "transactionEndToEndId": "E12345678912345678901234567890AB",
        "correlationID": "refund-123",
        "comment": "Refund requested by customer"
      },
      "id": "c8a9d6e3-3f1a-4e3b-9b1f-5fd2e8b90123",
      "name": "Create Refund",
      "type": "n8n-nodes-woovi.woovi",
      "typeVersion": 1,
      "position": [1100, 360],
      "credentials": {
        "wooviApi": {
          "id": "1",
          "name": "Woovi account"
        }
      }
    },
    {
      "parameters": {
        "resource": "installment",
        "operation": "getInstallment",
        "id": "GI_123456789"
      },
      "id": "55fbe9d6-3173-51c6-944d-492e15ff0fa1",
      "name": "Get Installment",
      "type": "n8n-nodes-woovi.woovi",
      "typeVersion": 1,
      "position": [1300, 360],
      "credentials": {
        "wooviApi": {
          "id": "1",
          "name": "Woovi account"
        }
      }
    },
    {
      "parameters": {
        "resource": "pixKey",
        "operation": "create",
        "pixKey": "test-key",
        "pixKeyType": "EMAIL"
      },
      "id": "create-pix-key-node",
      "name": "Create Pix Key",
      "type": "n8n-nodes-woovi.woovi",
      "typeVersion": 1,
      "position": [1400, 360],
      "credentials": {
        "wooviApi": {
          "id": "1",
          "name": "Woovi account"
        }
      }
    },
    {
      "parameters": {
        "resource": "pixKey",
        "operation": "check",
        "pixKey": "test-key"
      },
      "id": "check-pix-key-node",
      "name": "Check Pix Key",
      "type": "n8n-nodes-woovi.woovi",
      "typeVersion": 1,
      "position": [1500, 360],
      "credentials": {
        "wooviApi": {
          "id": "1",
          "name": "Woovi account"
        }
      }
    },
    {
      "parameters": {
        "resource": "pixKey",
        "operation": "setDefault",
        "pixKey": "test-key"
      },
      "id": "set-pix-key-default-node",
      "name": "Set Pix Key Default",
      "type": "n8n-nodes-woovi.woovi",
      "typeVersion": 1,
      "position": [1700, 360],
      "credentials": {
        "wooviApi": {
          "id": "1",
          "name": "Woovi account"
        }
      }
    },
    {
      "parameters": {
        "resource": "pixKey",
        "operation": "delete",
        "pixKey": "test-key"
      },
      "id": "delete-pix-key-node",
      "name": "Delete Pix Key",
      "type": "n8n-nodes-woovi.woovi",
      "typeVersion": 1,
      "position": [1900, 360],
      "credentials": {
        "wooviApi": {
          "id": "1",
          "name": "Woovi account"
        }
      }
    },
    {
      "parameters": {
        "resource": "pixKey",
        "operation": "getTokens"
      },
      "id": "get-pix-key-tokens-node",
      "name": "Get Pix Key Tokens",
      "type": "n8n-nodes-woovi.woovi",
      "typeVersion": 1,
      "position": [2100, 360],
      "credentials": {
        "wooviApi": {
          "id": "1",
          "name": "Woovi account"
        }
      }
    },
    {
      "parameters": {
        "resource": "qrCodeStatic",
        "operation": "get",
        "qrCodeId": "test-qr-id"
      },
      "id": "get-qr-code-static-node",
      "name": "Get QR Code Static",
      "type": "n8n-nodes-woovi.woovi",
      "typeVersion": 1,
      "position": [2300, 360],
      "credentials": {
        "wooviApi": {
          "id": "1",
          "name": "Woovi account"
        }
      }
    },
    {
      "parameters": {
        "resource": "qrCodeStatic",
        "operation": "list"
      },
      "id": "list-qr-code-static-node",
      "name": "List QR Code Static",
      "type": "n8n-nodes-woovi.woovi",
      "typeVersion": 1,
      "position": [2500, 360],
      "credentials": {
        "wooviApi": {
          "id": "1",
          "name": "Woovi account"
        }
      }
    },
    {
      "parameters": {
        "resource": "pixKey",
        "operation": "list"
      },
      "id": "list-pix-keys-node",
      "name": "List Pix Keys",
      "type": "n8n-nodes-woovi.woovi",
      "typeVersion": 1,
      "position": [2700, 360],
      "credentials": {
        "wooviApi": {
          "id": "1",
          "name": "Woovi account"
        }
      }
    },
    {
      "parameters": {
        "resource": "qrCodeStatic",
        "operation": "create",
        "name": "my-qr-code",
        "value": 1000,
        "correlationID": "test-correlation-id",
        "comment": "Test QR Code"
      },
      "id": "create-qr-code-static-node",
      "name": "Create QR Code Static",
      "type": "n8n-nodes-woovi.woovi",
      "typeVersion": 1,
      "position": [2900, 360],
      "credentials": {
        "wooviApi": {
          "id": "1",
          "name": "Woovi account"
        }
      }
    },
    {
      "parameters": {
        "resource": "subscription",
        "operation": "listSubscriptions"
      },
      "id": "list-subscriptions-node",
      "name": "List Subscriptions",
      "type": "n8n-nodes-woovi.woovi",
      "typeVersion": 1,
      "position": [3100, 360],
      "credentials": {
        "wooviApi": {
          "id": "1",
          "name": "Woovi account"
        }
      }
    },
    {
      "parameters": {
        "resource": "subscription",
        "operation": "listSubscriptionInstallments",
        "id": "sub_123456789"
      },
      "id": "list-sub-installments-node",
      "name": "List Subscription Installments",
      "type": "n8n-nodes-woovi.woovi",
      "typeVersion": 1,
      "position": [3300, 360],
      "credentials": {
        "wooviApi": {
          "id": "1",
          "name": "Woovi account"
        }
      }
    },
    {
      "parameters": {
        "resource": "subscription",
        "operation": "createSubscription",
        "value": 5000,
        "type": "PIX_RECURRING",
        "correlationID": "my-sub-001",
        "customerName": "John Doe",
        "customerEmail": "john@example.com",
        "customerPhone": "+5511999999999",
        "customerTaxID": "12345678900",
        "customerAddress": {
          "zipcode": "12345-678",
          "street": "Main St",
          "number": "100",
          "neighborhood": "Downtown",
          "city": "São Paulo",
          "state": "SP",
          "country": "BR",
          "complement": "Apt 10"
        },
        "name": "Monthly Subscription",
        "comment": "Test subscription",
        "dayGenerateCharge": 5,
        "frequency": "MONTHLY",
        "dayDue": 7,
        "pixRecurringOptions": {
          "retryPolicy": "NON_PERMITED",
          "journey": "PAYMENT_ON_APPROVAL",
          "minimumValue": 1000
        }
      },
      "id": "create-subscription-node",
      "name": "Create Subscription",
      "type": "n8n-nodes-woovi.woovi",
      "typeVersion": 1,
      "position": [3500, 360],
      "credentials": {
        "wooviApi": {
          "id": "1",
          "name": "Woovi account"
        }
      }
    },
    {
      "parameters": {
        "resource": "payment",
        "operation": "create",
        "paymentType": "PIX_KEY",
        "value": 100,
        "destinationAlias": "c4249323-b4ca-43f2-8139-8232aab09b93",
        "destinationAliasType": "RANDOM",
        "correlationID": "payment1",
        "comment": "payment comment",
        "metadata": "{\"orderId\":\"123\"}"
      },
      "id": "create-payment-node",
      "name": "Create Payment",
      "type": "n8n-nodes-woovi.woovi",
      "typeVersion": 1,
      "position": [3700, 360],
      "credentials": {
        "wooviApi": {
          "id": "1",
          "name": "Woovi account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "When clicking \"Execute Workflow\"": {
      "main": [
        [
          {
            "node": "Woovi",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Woovi": {
      "main": [
        [
          {
            "node": "Create Customer",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create Customer": {
      "main": [
        [
          {
            "node": "Create Refund",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create Refund": {
      "main": [
        [
          {
            "node": "Get Installment",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Installment": {
      "main": [
        [
          {
            "node": "Create Pix Key",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create Pix Key": {
      "main": [
        [
          {
            "node": "Check Pix Key",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check Pix Key": {
      "main": [
        [
          {
            "node": "Set Pix Key Default",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set Pix Key Default": {
      "main": [
        [
          {
            "node": "Delete Pix Key",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Delete Pix Key": {
      "main": [
        [
          {
            "node": "Get Pix Key Tokens",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Pix Key Tokens": {
      "main": [
        [
          {
            "node": "Get QR Code Static",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get QR Code Static": {
      "main": [
        [
          {
            "node": "List QR Code Static",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "List QR Code Static": {
      "main": [
        [
          {
            "node": "List Pix Keys",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "List Pix Keys": {
      "main": [
        [
          {
            "node": "Create QR Code Static",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {},
  "versionId": "f8b70320-3541-4bd8-af5a-f6e69f7e3e2c",
  "id": "1",
  "meta": {
    "instanceId": "b01e4ebf540954d4c29a722da7612e76b42b29f3ac53bdcb88b7b04aa2e98756"
  },
  "tags": []
}
